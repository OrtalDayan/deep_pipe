@from "/nmnt/media/home/gleb/deep_pipe/config_examples/assets" extends(
    "core/core.config",
    "batch_iter/3d_patch.config",
    "model/deepmedic_els.config",
    "training/deepmedic_brats.config",
    "problem/segm.config",
)

n_epochs = 10

batch_size = 15

data_path = "/nmnt/x04-hdd/oasis_brain/"

dataset = dataset_wrapper:cached
    dataset = dataset_wrapper:normalized
        mean = True
        std = True
        dataset = dataset:oasis
            data_path = data_path

split = split:monte_carlo
    train_fraction = 0.8
    val_fraction = 0.1
    n_splits = 2
    dataset = dataset

lr_dec_mul = 0.5

train_model = command:train_model
    train = train
    model = model
    save_model_path = save_model_path
    restore_model_path = null // example:  "../../oasisnumber/experiment_0/model"
