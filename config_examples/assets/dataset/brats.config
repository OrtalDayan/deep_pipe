from dpipe.dataset.wrappers import cache_methods, normalized, bbox_extraction
from dpipe.split.cv_111 import cv_111
from dpipe.dataset.brats import Brats2017


dataset = cache_methods(
    methods = ["load_image" "load_segm" "load_msegm"],

    dataset = normalized(
        mean = True,
        std = True,
        drop_percentile = None,

        dataset = bbox_extraction(
            dataset = Brats2017(
                data_path = data_path,
                metadata_rpath = metadata_rpath
            )
        )
    )
)

split = cv_111(
    n_splits = 5,
    val_size = 6,
    dataset = dataset
)